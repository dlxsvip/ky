h3.page-header
    span 采集服务管理

.container-fluid(ng-controller="collectionServiceCtrl")
  .row.search-dtdream
    .col-lg-12
        .col-lg-6.search-dtdream-row
            .col-lg-3.change-ui-select-key
                ui-select.text-left(ng-model='selected.selected', theme='bootstrap', search-enabled='true', ng-disabled='disabled')
                    ui-select-match {{$select.selected}}
                    ui-select-choices(repeat='name in selected.name' ng-click='changeType()')
                        span(ng-bind-html='name')
            .col-lg-5
                input.form-control(type='text', placeholder='请输入{{selected.selected}}', ng-model='selected.searchValue', ng-change='getNullCondition()', ng-keyup='testEnter($event)')
            .col-lg-1
                button.btn.btn-primary(ng-click='searchDetail()') 查询
        .pull-right
            button.btn.brand-btn-color-a.brand-btn-abandon-focus(type='button', ng-click='addDialogOpen()') 添加
            //button.btn.brand-btn-color-a.btn-refresh(ng-disabled="sumChose == 0", ng-click='deleteSelectedItem()') 移除
  .row
    .col-lg-12
        table.table.table-dtdream(ng-table='collectionService.tableParams', template-pagination='app/views/ngtable-foot.html', block-ui="collectionServiceBlockUI" )
            tbody
                tr(ng-repeat='item in $data' ng-class= "{ 'trActive': item.selected == true}")
                    td(data-title="'节点名称'")
                        span {{item.hostName}}
                    td(data-title="'节点地址'")
                        span {{item.ip}}
                    td(data-title="'描述'")
                        span {{item.description}}
                    td(data-title="'操作'")
                        a(ui-sref="app.channel-manage({hostId:item.hostId,hostName:item.hostName})") 频道
                        a(ng-click='modifyDialogOpen(item)') 编辑
                        //.btn-group(dropdown='dropdown', style='vertical-align:top')
                            a(href='', dropdown-toggle='') 管理
                            ul.dropdown-menu.animated.fadeInDown(role='menu')
                                li
                                    a(ui-sref="app.channel-manage({hostId:item.hostId,hostName:item.hostName})") 频道管理
                                li
                                    a(ng-click='modifyDialogOpen(item)') 编辑
                                //li
                                    a(ng-click='deleteDialogOpen(item)') 删除
                tr.table-nodata-tr(ng-if='collectionService.tableParams.data==undefined || collectionService.tableParams.data.length==0')
                    td(colspan='11')
                        div.text-center
                            span.table-nodata-content(ng-show='!isLoading')
                                em.dtdream.dtdream-info-circle
                                | 没有符合条件的数据
script(type='text/ng-template', id='deleteItem')
    div(block-ui="deleteUI")
        .modal-header
            button.close(type="button", data-dismiss="modal", ng-click="cancel()", aria-hidden="true") &#215;
            h4.modal-title.ng-binding 删除
        .modal-body.clearfix
            .col-lg-10
                span 您所选的物理机将执行删除操作，是否确认删除?
        .modal-footer
            button.btn.btn-primary(ng-click="Delete()") 确定
            button.btn.btn-default(data-ng-click="cancel()") 取消
script(type="text/ng-template", id='dialogItem')
    form.form-horizontal(name="ManageForm", novalidate="")
        div(block-ui='myBlockUI')
            // START modal
            .modal-header
                button.close(type='button', data-dismiss='modal', aria-hidden='true', ng-click='cancel()') ×
                h4.modal-title {{title}}
            .modal-body
                .form-group
                    label.col-lg-3.control-label
                        span.text-danger *
                        | 节点名称
                    .col-lg-9
                        input.form-control(type='text', name='name', required='', ng-model="Info.hostName",placeholder='请输入节点名称', ng-required="true", ng-disabled="isEdit")
                        small.text-danger(ng-show="ManageForm.name.$dirty && ManageForm.name.$error.required") 节点名称不能为空
                .form-group
                    label.col-lg-3.control-label
                        span.text-danger *
                        | 节点地址
                    .col-lg-9
                        input.form-control(type='text', name='address', required='', ng-model="Info.ip",ng-required="true",
                        placeholder='请输入节点地址', ng-disabled="isEdit")
                        small.text-danger(ng-show="ManageForm.address.$dirty && ManageForm.address.$error.required") 节点地址不能为空
                .form-group
                    label.col-lg-3.control-label
                        span 描述
                    .col-lg-9
                        textarea.form-control(type='textarea', name='description', ng-required='false', rows='8', ng-model='Info.description')
            .modal-footer
                button.btn.btn-primary(type='button', ng-click='ok()', ng-disabled="ManageForm.$invalid") 确定
                button.btn.btn-default(type='button', ng-click='cancel()') 取消